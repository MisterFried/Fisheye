import{f as p}from"./fetchData-b9921a70.js";const d=h();let g="popular";d?(f(d),m(d,g)):console.log("Incorrect photographer ID");function h(){const e=new URLSearchParams(window.location.search).get("id");if(e)return Number(e);console.log("Error : no photographer ID")}async function f(t){const e=document.querySelector(".photographer-presentation__name"),r=document.querySelector(".photographer-presentation__location"),a=document.querySelector(".photographer-presentation__tagline"),i=document.querySelector(".photographer-presentation__image"),n=document.querySelector(".contact-modal__title"),l=document.querySelector(".photographer-info-bar__price");(await p("photographers")).forEach(o=>{o.id===t&&(e.innerText=o.name,r.innerText=`${o.city}, ${o.country}`,a.innerText=o.tagline,i.setAttribute("src",`/Fisheye/images/photographers-profile-picture/${o.portrait}`),n.innerText=`Contactez-moi ${o.name}`,l.innerText=`${o.price}â‚¬ / jour`)})}async function m(t,e){const r=await p("media"),a=document.querySelector(".photographer-media__container"),i=document.querySelector(".photographer-info-bar__likes");let n=0;I(r,e).forEach(c=>{if(c.photographerId===t){const o=document.createElement("div");o.classList.add("photographer-media__media");let s;c.image?(s=_(c),o.appendChild(s)):c.video&&(s=y(c),o.appendChild(s));const u=L(c);o.appendChild(u),a.appendChild(o),n+=c.likes}}),i.innerHTML=`${n} <i class="fa-solid fa-heart"></i>`}function _(t){const e=document.createElement("img");return e.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.image}`),e.setAttribute("loading","lazy"),e.classList.add("photographer-media__image"),e}function y(t){const e=document.createElement("video");e.classList.add("photographer-media__image"),e.setAttribute("controls","");const r=document.createElement("source");return r.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.video}`),e.setAttribute("loading","lazy"),e.appendChild(r),e}function L(t){const e=document.createElement("div");e.classList.add("photographer-media__legend");const r=document.createElement("span");r.innerText=t.title,r.classList.add("photographer-media__legend-name");const a=document.createElement("span");return a.innerHTML=`${t.likes} <i class="fa-regular fa-heart"></i>`,a.classList.add("photographer-media__legend-likes"),e.append(r,a),e}const E=document.querySelector(".header__logo");E.addEventListener("click",()=>{window.location.href="/Fisheye/index.html"});const S=document.querySelector(".photographer-media__order-select");S.addEventListener("change",t=>{const e=t.target,r=h();r&&(k(),m(r,e.value))});function I(t,e){switch(e){case"popular":t.sort((r,a)=>a.likes-r.likes);break;case"date":t.sort((r,a)=>{const i=new Date(r.date),n=new Date(a.date);return i<n?-1:i>n?1:0});break;case"name":t.sort((r,a)=>{const i=r.title.toUpperCase(),n=a.title.toUpperCase();return i<n?-1:i>n?1:0});break}return t}function k(){const t=document.querySelector(".photographer-media__container");for(;t.firstChild;)t.removeChild(t.lastChild)}
