import{f as s}from"./fetchData-539b2553.js";p();function p(){const e=new URLSearchParams(window.location.search).get("id");e?(h(e),m(e)):console.log("Error : no photographer ID")}async function h(t){const e=document.querySelector(".photographer-presentation__name"),n=document.querySelector(".photographer-presentation__location"),o=document.querySelector(".photographer-presentation__tagline"),a=document.querySelector(".photographer-presentation__image"),i=document.querySelector(".contact-modal__title");(await s("photographers")).forEach(r=>{r.id.toString()===t&&(e.innerText=r.name,n.innerText=`${r.city}, ${r.country}`,o.innerText=r.tagline,a.setAttribute("src",`/Fisheye/images/photographers-profile-picture/${r.portrait}`),i.innerText=`Contactez-moi ${r.name}`)})}async function m(t){const e=await s("media"),n=document.querySelector(".photographer-media__container");e.forEach(o=>{if(o.photographerId.toString()===t){const a=document.createElement("div");a.classList.add("photographer-media__media");let i;o.image?(i=g(o),a.appendChild(i)):o.video&&(i=u(o),a.appendChild(i));const d=_(o);a.appendChild(d),n.appendChild(a)}})}function g(t){const e=document.createElement("img");return e.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.image}`),e.classList.add("photographer-media__image"),e}function u(t){const e=document.createElement("video");e.classList.add("photographer-media__image"),e.setAttribute("controls","");const n=document.createElement("source");return n.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.video}`),e.appendChild(n),e}function _(t){const e=document.createElement("div");e.classList.add("photographer-media__legend");const n=document.createElement("span");n.innerText=t.title,n.classList.add("photographer-media__legend-name");const o=document.createElement("span");return o.innerHTML=`${t.likes} <i class="fa-regular fa-heart photographer-media__legend-likes"></i>`,o.classList.add("photographer-media__legend-likes"),e.append(n,o),e}const y=document.querySelector(".header__logo");y.addEventListener("click",()=>{window.location.href="/Fisheye/index.html"});const f=document.querySelector(".photographer-presentation__contact-button"),E=document.querySelector(".contact-modal__close-icon"),c=document.querySelector("#modal-container"),L=document.querySelector(".contact-modal");f.addEventListener("click",S);E.addEventListener("click",l);c.addEventListener("click",l);L.addEventListener("click",t=>t.stopPropagation());function S(){c.style.display="block"}function l(){c.style.display="none"}
