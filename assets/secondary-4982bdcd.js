import{f as p}from"./fetchData-b0411c59.js";const d=m();d?(u(d),g(d)):console.log("Incorrect photographer ID");function m(){const e=new URLSearchParams(window.location.search).get("id");if(e)return Number(e);console.log("Error : no photographer ID")}async function u(t){const e=document.querySelector(".photographer-presentation__name"),o=document.querySelector(".photographer-presentation__location"),a=document.querySelector(".photographer-presentation__tagline"),s=document.querySelector(".photographer-presentation__image"),r=document.querySelector(".contact-modal__title"),c=document.querySelector(".photographer-info-bar__price");(await p("photographers")).forEach(n=>{n.id===t&&(e.innerText=n.name,o.innerText=`${n.city}, ${n.country}`,a.innerText=n.tagline,s.setAttribute("src",`/Fisheye/images/photographers-profile-picture/${n.portrait}`),r.innerText=`Contactez-moi ${n.name}`,c.innerText=`${n.price}â‚¬ / jour`)})}async function g(t){const e=await p("media"),o=document.querySelector(".photographer-media__container"),a=document.querySelector(".photographer-info-bar__likes");let s=0;e.forEach(r=>{if(r.photographerId===t){const c=document.createElement("div");c.classList.add("photographer-media__media");let i;r.image?(i=_(r),c.appendChild(i)):r.video&&(i=y(r),c.appendChild(i));const n=f(r);c.appendChild(n),o.appendChild(c),s+=r.likes}}),a.innerHTML=`${s} <i class="fa-solid fa-heart"></i>`}function _(t){const e=document.createElement("img");return e.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.image}`),e.classList.add("photographer-media__image"),e}function y(t){const e=document.createElement("video");e.classList.add("photographer-media__image"),e.setAttribute("controls","");const o=document.createElement("source");return o.setAttribute("src",`/Fisheye/images/photographers-media/${t.photographerId}/${t.video}`),e.appendChild(o),e}function f(t){const e=document.createElement("div");e.classList.add("photographer-media__legend");const o=document.createElement("span");o.innerText=t.title,o.classList.add("photographer-media__legend-name");const a=document.createElement("span");return a.innerHTML=`${t.likes} <i class="fa-regular fa-heart"></i>`,a.classList.add("photographer-media__legend-likes"),e.append(o,a),e}const L=document.querySelector(".header__logo");L.addEventListener("click",()=>{window.location.href="/Fisheye/index.html"});const E=document.querySelector(".photographer-presentation__contact-button"),S=document.querySelector(".contact-modal__close-icon"),l=document.querySelector("#modal-container"),I=document.querySelector(".contact-modal");E.addEventListener("click",k);S.addEventListener("click",h);l.addEventListener("click",h);I.addEventListener("click",t=>t.stopPropagation());function k(){l.style.display="block"}function h(){l.style.display="none"}
